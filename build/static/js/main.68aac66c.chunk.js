(this["webpackJsonprooksgc-dev-client"]=this["webpackJsonprooksgc-dev-client"]||[]).push([[0],{257:function(e,t,r){},258:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(55),c=r(37),s=r(36),i=r(25),o=r(260),u=r(268),l=r(278),j=r(274),p=r(275),b=r(28),d=r(270),m=function(e){return Object(n.d)(e,n.b)},h=r(4),O=[{key:"login",label:"\u0412\u043e\u0439\u0442\u0438",path:"/auth/login",icon:Object(h.jsx)(d.a,{})},{key:"register",label:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",path:"/auth/register",icon:Object(h.jsx)(d.a,{})}],x=[{key:"home",label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",path:"/",icon:Object(h.jsx)(d.a,{})},{key:"chat",label:"\u0427\u0430\u0442",path:"/chat",icon:Object(h.jsx)(d.a,{})}],f=function(){var e,t=Object(b.h)(),r=Object(b.g)(),a=m((function(e){return e.auth.user})),n=function(){return a?x:O},c=null===(e=n().find((function(e){return t.pathname===e.path})))||void 0===e?void 0:e.key;if(!c&&!a)return null;return Object(h.jsx)(u.a,{mode:"horizontal",selectedKeys:[c],onClick:function(e){if(e.key!==c){var t=n().find((function(t){return t.key===e.key}));r.push(t.path)}},children:n().map((function(e){return Object(h.jsx)(u.a.Item,{icon:e.icon,children:e.label},e.key)}))})},g=r(269),v=r(267),y=r(271),k=r(272),w=r(273),S=r(150),N=r(34),T=function(e,t){var r=Object(n.c)();return Object(a.useMemo)((function(){return Array.isArray(e)?e.map((function(e){return Object(N.bindActionCreators)(e,r)})):Object(N.bindActionCreators)(e,r)}),t?[r].concat(Object(S.a)(t)):[r])},F=r(279),E=Object(F.a)("AUTH/USER_SET_TOKEN"),I=Object(F.a)("AUTH/USER_FETCH_SUCCESS"),z=Object(F.a)("AUTH/USER_FETCH_FAILURE"),A=Object(F.a)("AUTH/USER_LOGOUT_REQUEST"),C=function(){var e=Object(b.h)(),t=Object(b.g)(),r=T([A],null),a=Object(i.a)(r,1)[0],n=Object(h.jsxs)(u.a,{onClick:function(r){var n=r.key;if(e.pathname!=="/user/".concat(n))switch(n){case"profile":t.push("/user/profile");break;case"logout":a(),t.push("/auth/login")}},children:[Object(h.jsx)(u.a.Item,{icon:Object(h.jsx)(y.a,{}),children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"},"profile"),Object(h.jsx)(u.a.Divider,{}),Object(h.jsx)(u.a.Item,{icon:Object(h.jsx)(k.a,{}),children:"\u0412\u044b\u0445\u043e\u0434"},"logout")]});return Object(h.jsx)(g.a,{overlay:n,trigger:["click"],children:Object(h.jsx)(v.a,{className:"user-profile",icon:Object(h.jsx)(w.a,{})})})},P=function(e){var t=e.children;return m((function(e){return e.auth.user}))?t:null},U=o.a.Header,q=function(e){var t=e.onToggle,r=e.collapsed;return Object(h.jsxs)(U,{className:"header background-white",children:[Object(h.jsx)(P,{children:r?Object(h.jsx)(j.a,{className:"trigger collapsed",onClick:t}):Object(h.jsx)(p.a,{className:"trigger expanded",onClick:t})}),Object(h.jsxs)("div",{className:"header-menu",children:[Object(h.jsx)(f,{}),Object(h.jsx)(P,{children:Object(h.jsx)(C,{})})]})]})},R=function(){return Object(h.jsxs)("div",{className:"flex-center flex-column",children:[Object(h.jsx)("h1",{children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e \u043e Svelte"}),Object(h.jsx)("img",{src:"/images/svelte.png",style:{width:700,maxWidth:"100%"},alt:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e \u043e Svelte"})]})},_=function(){return Object(h.jsx)("h1",{children:"Chat window"})},B=r(10),H=r.n(B),V=r(30),D=r(262),L=r(263),W=r(265),J=r(266),M=r(261),K=r(72),$=r(276),G=r(277),Q=r(80),Z=r(118),X=r.n(Z),Y="auth",ee=function(e){var t=e.response,r=t.data,a=t.status;return"string"!==typeof r||502!==a&&500!==a?"No authorization token was found"===(null===r||void 0===r?void 0:r.message)?{type:"error",message:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0438\u043b\u0438 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0433\u043e."}:r:{type:"error",message:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0438\u043b\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u0437\u0434\u043d\u0435\u0435."}},te={getAllUsers:function(){var e=Object(V.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te.send({method:"get",endpoint:"/api/v1/auth/users"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),register:function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te.send({method:"put",endpoint:"/api/v1/auth/register",payload:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),activate:function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te.send({method:"patch",endpoint:"/api/v1/auth/activate/".concat(t)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te.send({method:"post",endpoint:"/api/v1/auth/login",payload:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchByToken:function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te.send({method:"post",endpoint:"/api/v1/auth/fetch-by-token",payload:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),recover:function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te.send({method:"post",endpoint:"/api/v1/auth/recover",payload:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),checkSecret:function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te.send({method:"post",endpoint:"/api/v1/auth/check-secret",payload:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),changePassword:function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te.send({method:"patch",endpoint:"/api/v1/auth/change-password",payload:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getToken:function(){return localStorage.getItem(Y)},setToken:function(e){return localStorage.setItem(Y,e)},removeToken:function(){return localStorage.removeItem(Y)},send:function(){var e=Object(V.a)(H.a.mark((function e(t){var r,a,n,c,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.method,a=t.endpoint,n=t.payload,c=void 0===n?{}:n,e.prev=1,e.next=4,X.a[r](a,c);case 4:return s=e.sent,e.abrupt("return",s.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",ee(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()};X.a.interceptors.request.use((function(e){var t=te.getToken();return t&&(e.headers={Authorization:"Bearer ".concat(t)}),e}),(function(e){return ee(e)}));var re=te,ae=function(){var e={type:"",message:""},t=D.a.useForm(),r=Object(i.a)(t,1)[0],n=Object(a.useState)(e),s=Object(i.a)(n,2),o=s[0],u=s[1],l=Object(a.useState)(!1),j=Object(i.a)(l,2),p=j[0],d=j[1],m=T([I,E],null),O=Object(i.a)(m,2),x=O[0],f=O[1],g=Object(b.g)(),v=function(){var t=Object(V.a)(H.a.mark((function t(r){var a,n,c,s,i,o,l;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u(e),d(!0),a=r.email,n=r.password,t.next=6,re.login({email:a,password:n});case 6:if(c=t.sent,s=c.type,i=c.message,o=c.token,l=c.data,!i){t.next=16;break}if(u({type:s,message:i}),d(!1),"error"!==s){t.next=16;break}return t.abrupt("return");case 16:x(l),f(o),d(!1),g.push("/chat"),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(0),u(t.t0),d(!1);case 26:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"flex-center",children:Object(h.jsxs)(L.a,{className:"card",title:"\u0412\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443",children:[o.message&&Object(h.jsx)(W.a,{className:"alert",message:o.message,type:o.type}),Object(h.jsxs)(D.a,{form:r,name:"login",className:"login-form",initialValues:{remember:!0},onFinish:v,children:[Object(h.jsx)(D.a.Item,{name:"email",rules:[{required:!0,type:"email",min:4,message:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}],children:Object(h.jsx)(J.a,{prefix:Object(h.jsx)($.a,{}),placeholder:"Email",size:"large"})}),Object(h.jsx)(D.a.Item,{name:"password",rules:[{required:!0,min:6,message:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}],children:Object(h.jsx)(J.a.Password,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",prefix:Object(h.jsx)(G.a,{}),size:"large"})}),Object(h.jsxs)(D.a.Item,{children:[Object(h.jsx)(D.a.Item,{name:"register",noStyle:!0,children:Object(h.jsx)(c.b,{to:"/auth/register",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(h.jsx)(c.b,{className:"link-recover",to:"/auth/recover",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})]}),p&&Object(h.jsx)(M.a,{className:"center",indicator:Object(h.jsx)(Q.a,{style:{fontSize:40},spin:!0}),delay:500}),Object(h.jsx)(K.a,{size:"large",type:"primary",htmlType:"submit",block:!0,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},ne=function(){var e={type:"",message:""},t=D.a.useForm(),r=Object(i.a)(t,1)[0],n=Object(a.useState)(e),c=Object(i.a)(n,2),s=c[0],o=c[1],u=Object(a.useState)(!1),l=Object(i.a)(u,2),j=l[0],p=l[1],b=function(){var t=Object(V.a)(H.a.mark((function t(a){var n,c,s,i,u,l;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o(e),p(!0),n=a.name,c=a.email,s=a.password,t.next=6,re.register({name:n,email:c,password:s});case 6:if(i=t.sent,u=i.type,!(l=i.message)){t.next=14;break}if(o({type:u,message:l}),p(!1),"error"!==u){t.next=14;break}return t.abrupt("return");case 14:r.resetFields(),p(!1),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(0),o(t.t0),p(!1);case 22:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"flex-center",children:Object(h.jsxs)(L.a,{className:"card",title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",children:[s.message&&Object(h.jsx)(W.a,{className:"alert",message:s.message,type:s.type}),Object(h.jsxs)(D.a,{form:r,name:"register",initialValues:{remember:!0},onFinish:b,validateTrigger:"onBlur",children:[Object(h.jsx)(D.a.Item,{name:"name",rules:[{required:!0,message:"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 4 \u0441\u0438\u043c\u0432\u043e\u043b\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0433\u043e \u0438\u043b\u0438 \u0440\u0443\u0441\u0441\u043a\u043e\u0433\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0430, \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0446\u0438\u0444\u0440\u044b \u0438 \u0437\u043d\u0430\u043a\u0438 '- _'",pattern:/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0451\u04010-9-_\s]{4,}$/}],children:Object(h.jsx)(J.a,{placeholder:"\u0418\u043c\u044f",size:"large",prefix:Object(h.jsx)(w.a,{})})}),Object(h.jsx)(D.a.Item,{name:"email",rules:[{required:!0,type:"email",message:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}],children:Object(h.jsx)(J.a,{prefix:Object(h.jsx)($.a,{}),placeholder:"Email",size:"large"})}),Object(h.jsx)(D.a.Item,{name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c! \u041c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.",min:6}],children:Object(h.jsx)(J.a.Password,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",prefix:Object(h.jsx)(G.a,{}),size:"large"})}),Object(h.jsx)(D.a.Item,{name:"confirm-password",dependencies:["password"],rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f! \u041c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.",min:6},function(e){var t=e.getFieldValue;return{validator:function(e,r){return r&&t("password")!==r?Promise.reject(new Error("\u041f\u0430\u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c!")):Promise.resolve()}}}],children:Object(h.jsx)(J.a.Password,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c \u0435\u0449\u0435 \u0440\u0430\u0437",prefix:Object(h.jsx)(G.a,{}),size:"large"})}),j&&Object(h.jsx)(M.a,{className:"center",indicator:Object(h.jsx)(Q.a,{style:{fontSize:40},spin:!0}),delay:500}),Object(h.jsx)(K.a,{className:"submit-button",type:"primary",htmlType:"submit",size:"large",block:!0,disabled:j,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})})},ce=function(){var e={type:"",message:""},t=D.a.useForm(),r=Object(i.a)(t,1)[0],n=Object(a.useState)(e),c=Object(i.a)(n,2),s=c[0],o=c[1],u=Object(a.useState)(!1),l=Object(i.a)(u,2),j=l[0],p=l[1],b=function(){var t=Object(V.a)(H.a.mark((function t(a){var n,c,s,i;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o(e),p(!0),n=a.email,t.next=6,re.recover({email:n});case 6:if(c=t.sent,s=c.type,!(i=c.message)){t.next=14;break}if(o({type:s,message:i}),p(!1),"error"!==s){t.next=14;break}return t.abrupt("return");case 14:r.resetFields(),p(!1),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(0),o(t.t0),p(!1);case 22:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"flex-center",children:Object(h.jsxs)(L.a,{className:"card",title:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",children:[s.message&&Object(h.jsx)(W.a,{className:"alert",message:s.message,type:s.type}),"success"!==s.type&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 email, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0438 \u043c\u044b \u0432\u044b\u0448\u043b\u0435\u043c \u043d\u0430 \u043d\u0435\u0433\u043e \u0441\u0441\u044b\u043b\u043a\u0443 \u0434\u043b\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u043e\u043b\u044f."}),Object(h.jsxs)(D.a,{form:r,name:"recover",className:"login-form",initialValues:{remember:!0},onFinish:b,validateTrigger:"onBlur",children:[Object(h.jsx)(D.a.Item,{name:"email",rules:[{required:!0,type:"email",message:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email!"}],children:Object(h.jsx)(J.a,{prefix:Object(h.jsx)($.a,{}),placeholder:"Email",size:"large"})}),j&&Object(h.jsx)(M.a,{className:"center",indicator:Object(h.jsx)(Q.a,{style:{fontSize:40},spin:!0}),delay:500}),Object(h.jsx)(K.a,{size:"large",type:"primary",htmlType:"submit",block:!0,disabled:j,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})]})})},se=function(){var e=Object(b.i)().code,t={type:"",message:""},r=Object(a.useState)(t),n=Object(i.a)(r,2),s=n[0],o=n[1],u=Object(a.useState)(!1),l=Object(i.a)(u,2),j=l[0],p=l[1],d=Object(a.useState)(!1),m=Object(i.a)(d,2),O=m[0],x=m[1],f=Object(a.useState)(!1),g=Object(i.a)(f,2),v=g[0],y=g[1];Object(a.useEffect)((function(){var t=function(){var t=Object(V.a)(H.a.mark((function t(){var r,a,n;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re.checkSecret({code:e,secretType:"RECOVER_PASSWORD"});case 2:r=t.sent,a=r.type,n=r.message,"error"===a&&(o({type:a,message:n}),p(!0));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.match(/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i)?t():(o({type:"error",message:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043a\u043e\u0434!"}),p(!0))}),[e]);var k=function(){var r=Object(V.a)(H.a.mark((function r(a){var n,c,s,i;return H.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o(t),y(!0),n=a.password,r.next=6,re.changePassword({code:e,password:n});case 6:if(c=r.sent,s=c.type,!(i=c.message)){r.next=14;break}if(o({type:s,message:i}),y(!1),"error"!==s){r.next=14;break}return r.abrupt("return");case 14:x(!0),y(!1),r.next=22;break;case 18:r.prev=18,r.t0=r.catch(0),o(r.t0),y(!1);case 22:case"end":return r.stop()}}),r,null,[[0,18]])})));return function(e){return r.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"flex-center",children:Object(h.jsxs)(L.a,{className:"card",title:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",children:[s.message&&Object(h.jsx)(W.a,{className:"alert",message:s.message,type:s.type}),O&&Object(h.jsxs)("p",{children:["\u0422\u0435\u043f\u0435\u0440\u044c \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 ",Object(h.jsx)(c.b,{to:"/auth/login",children:"\u0412\u043e\u0439\u0442\u0438"})," \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"]}),!j&&!O&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{children:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(h.jsxs)(D.a,{name:"change-password-request",initialValues:{remember:!0},onFinish:k,children:[Object(h.jsx)(D.a.Item,{name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],children:Object(h.jsx)(J.a.Password,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",prefix:Object(h.jsx)(G.a,{}),size:"large"})}),Object(h.jsx)(D.a.Item,{name:"confirmPassword",dependencies:["password"],rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f!"},function(e){var t=e.getFieldValue;return{validator:function(e,r){return r&&t("password")!==r?Promise.reject(new Error("\u041f\u0430\u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c!")):Promise.resolve()}}}],children:Object(h.jsx)(J.a.Password,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c \u0435\u0449\u0435 \u0440\u0430\u0437",prefix:Object(h.jsx)(G.a,{}),size:"large"})}),Object(h.jsx)(K.a,{className:"submit-button",type:"primary",htmlType:"submit",size:"large",block:!0,disabled:v,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})]})})},ie=function(){var e=Object(b.i)().code,t=Object(a.useState)({type:"",message:""}),r=Object(i.a)(t,2),n=r[0],s=r[1];return Object(a.useEffect)((function(){(function(){var t=Object(V.a)(H.a.mark((function t(){var r,a,n;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re.activate(e);case 2:r=t.sent,a=r.type,(n=r.message)&&s({type:a,message:n});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(h.jsx)("div",{className:"flex-center",children:Object(h.jsxs)(L.a,{className:"card",title:"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",children:[n.message&&Object(h.jsx)(W.a,{className:"alert",message:n.message,type:n.type}),Object(h.jsx)(c.b,{className:"login-link",to:"/auth/login",children:"\u0412\u0445\u043e\u0434"}),Object(h.jsx)(c.b,{className:"link-recover",to:"/auth/recover",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})})},oe=r(108),ue=r(155),le=function(e){var t=e.component,r=e.children,a=Object(ue.a)(e,["component","children"]),n=m((function(e){return e.auth.user}));return Object(h.jsx)(b.b,Object(oe.a)(Object(oe.a)({},a),{},{render:function(e){return!1===n?Object(h.jsx)(b.a,{to:{pathname:"/auth/login",state:{from:e.location}}}):null===n?null:t?Object(h.jsx)(t,Object(oe.a)({},e)):r}}))};le.defaultProps={component:void 0};var je=le,pe=function(){return Object(h.jsx)("h1",{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})},be=function(){return Object(h.jsxs)(b.d,{children:[Object(h.jsx)(je,{exact:!0,path:"/",component:R}),Object(h.jsx)(b.b,{path:"/auth/login",component:ae}),Object(h.jsx)(b.b,{path:"/auth/register",component:ne}),Object(h.jsx)(b.b,{path:"/auth/activation/:code",component:ie}),Object(h.jsx)(b.b,{path:"/auth/recover",component:ce}),Object(h.jsx)(b.b,{path:"/auth/change-password/:code",component:se}),Object(h.jsx)(je,{path:"/user/profile",component:pe}),Object(h.jsx)(je,{path:"/chat",component:_}),Object(h.jsx)(b.b,{path:"*",children:Object(h.jsx)(b.a,{to:"/auth/login"})})]})},de=o.a.Content,me=o.a.Footer,he=o.a.Sider,Oe=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),r=t[0],n=t[1];return Object(h.jsxs)(o.a,{className:"main",children:[Object(h.jsx)(q,{collapsed:r,onToggle:function(e){e.preventDefault(),n(!r)}}),Object(h.jsxs)(o.a,{children:[Object(h.jsx)(P,{children:Object(h.jsx)(he,{className:"sider",theme:"light",collapsible:!0,trigger:null,collapsed:r,children:Object(h.jsx)(u.a,{mode:"inline",children:Object(h.jsx)(u.a.Item,{icon:Object(h.jsx)(l.a,{}),children:"\u041e\u0431\u0449\u0438\u0439 \u0447\u0430\u0442"},"1")})})}),Object(h.jsx)(de,{className:"content",children:Object(h.jsx)(be,{})})]}),Object(h.jsx)(me,{className:"footer background-white",style:{textAlign:"center"},children:"\xa9 [Chat]"})]})},xe=(r(257),function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,280)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))}),fe=r(149),ge=r(151),ve=r(31),ye=H.a.mark(Te),ke=H.a.mark(Fe),we=H.a.mark(Ee),Se=H.a.mark(Ie),Ne=H.a.mark(ze);function Te(e){var t;return H.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(ve.a)([re,re.setToken],t);case 3:case"end":return r.stop()}}),ye)}function Fe(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.d)(E,Te);case 2:case"end":return e.stop()}}),ke)}function Ee(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.a)([re,re.removeToken]);case 2:return e.next=4,Object(ve.c)(I(!1));case 4:case"end":return e.stop()}}),we)}function Ie(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.d)(A,Ee);case 2:case"end":return e.stop()}}),Se)}function ze(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.b)(Fe);case 2:return e.next=4,Object(ve.b)(Ie);case 4:case"end":return e.stop()}}),Ne)}var Ae,Ce=r(78),Pe=r(264),Ue=Object(Pe.a)((Ae={},Object(Ce.a)(Ae,I.toString(),(function(e,t){return t.payload})),Object(Ce.a)(Ae,z,(function(){return!1})),Ae),null),qe=Object(N.combineReducers)({user:Ue}),Re=H.a.mark((function e(){var t,r,a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ve.a)([re,re.getToken]);case 3:if(t=e.sent){e.next=8;break}return e.next=7,Object(ve.c)(z());case 7:return e.abrupt("return");case 8:return e.next=10,Object(ve.a)([re,re.fetchByToken],{token:t});case 10:if(r=e.sent,a=r.data,"TokenExpiredError"!==(n=r.message)&&"JsonWebTokenError"!==n){e.next=18;break}return e.next=16,Object(ve.a)([re,re.removeToken]);case 16:return e.next=18,Object(ve.c)(z());case 18:if(!a){e.next=21;break}return e.next=21,Object(ve.c)(I(a));case 21:e.next=29;break;case 23:return e.prev=23,e.t0=e.catch(0),e.next=27,Object(ve.a)([re,re.removeToken]);case 27:return e.next=29,Object(ve.c)(z(e.t0));case 29:case"end":return e.stop()}}),e,null,[[0,23]])})),_e=H.a.mark(He),Be=Object(N.combineReducers)({auth:qe});function He(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.b)(ze);case 2:return e.next=4,Object(ve.b)(Re);case 4:case"end":return e.stop()}}),_e)}var Ve=function(){var e=Object(ge.a)(),t=Object(N.createStore)(Be,Object(N.compose)(Object(fe.composeWithDevTools)(Object(N.applyMiddleware)(e))));return e.run(He),t}();Object(s.render)(Object(h.jsx)(a.StrictMode,{children:Object(h.jsx)(n.a,{store:Ve,children:Object(h.jsx)(c.a,{children:Object(h.jsx)(Oe,{})})})}),document.getElementById("root")),xe()}},[[258,1,2]]]);
//# sourceMappingURL=main.68aac66c.chunk.js.map