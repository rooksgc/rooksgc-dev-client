(this["webpackJsonprooksgc-dev-client"]=this["webpackJsonprooksgc-dev-client"]||[]).push([[0],{154:function(e,t,r){},253:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(33),c=(r(154),r(40)),s=r(94),i=r(23),u=r(28),l=r(256),o=r(262),j=r(268),b=r(269),p=r(270),d=r(143),O=r(34),m=function(e,t){var r=Object(s.b)();return Object(a.useMemo)((function(){return Array.isArray(e)?e.map((function(e){return Object(O.b)(e,r)})):Object(O.b)(e,r)}),t?[r].concat(Object(d.a)(t)):[r])},h=r(263),x=Object(h.a)("USER/SET_USER"),f=Object(h.a)("USER/SET_TOKEN"),v=Object(h.a)("USER/FETCH_REQUEST"),g=Object(h.a)("USER/FETCH_SUCCESS"),y=Object(h.a)("USER/FETCH_FAILURE"),w=r(14),k=r.n(w),S=r(30),E=r(49),N=r.n(E),F=function(e){var t=e.response;return"Internal Server Error"===t.statusText?{type:"error",message:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0438\u043b\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u0437\u0434\u043d\u0435\u0435."}:t.data},T={register:function(){var e=Object(S.a)(k.a.mark((function e(t){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("/api/v1/auth/register",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",F(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),activate:function(){var e=Object(S.a)(k.a.mark((function e(t){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.patch("/api/v1/auth/activate/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",F(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(S.a)(k.a.mark((function e(t){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("/api/v1/auth/login",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",F(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),fetchByToken:function(){var e=Object(S.a)(k.a.mark((function e(t){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("/api/v1/auth/fetch-by-token",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",F(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),recover:function(){var e=Object(S.a)(k.a.mark((function e(t){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("/api/v1/auth/recover",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",F(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),checkSecretcode:function(){var e=Object(S.a)(k.a.mark((function e(t){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("/api/v1/auth/check-secret",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",F(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),changePassword:function(){var e=Object(S.a)(k.a.mark((function e(t){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.patch("/api/v1/auth/change-password",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",F(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getToken:function(){return localStorage.getItem("auth")}},I=r(4),_=function(){return Object(I.jsxs)("div",{className:"flex-center flex-column",children:[Object(I.jsx)("h1",{children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e \u043e Svelte"}),Object(I.jsx)("img",{src:"/images/svelte.png",style:{width:700,maxWidth:"100%"},alt:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e \u043e Svelte"})]})},z=r(264),C=[{key:"1",label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",path:"/",icon:Object(I.jsx)(z.a,{})},{key:"2",label:"\u0412\u043e\u0439\u0442\u0438",path:"/auth/login",icon:Object(I.jsx)(z.a,{})},{key:"3",label:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",path:"/auth/register",icon:Object(I.jsx)(z.a,{})}],P=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),r=t[0],n=t[1],c=Object(u.h)(),s=Object(u.g)(),l=Object(a.useCallback)((function(){var e=C.find((function(e){return c.pathname===e.path}));return(null===e||void 0===e?void 0:e.key)||""}),[c.pathname]);return Object(a.useEffect)((function(){n(l())}),[c,l]),Object(I.jsx)(o.a,{style:{float:"right"},mode:"horizontal",selectedKeys:[r],onClick:function(e){var t=C.find((function(t){return t.key===e.key}));s.push(t.path)},children:C.map((function(e){return Object(I.jsx)(o.a.Item,{icon:e.icon,children:e.label},e.key)}))})},R=function(){return Object(I.jsx)("h1",{children:"Chat window"})},A=r(257),U=r(258),q=r(260),V=r(261),B=r(255),D=r(142),H=r(265),L=r(266),X=r(74),J=function(){var e={type:"",message:""},t=A.a.useForm(),r=Object(i.a)(t,1)[0],n=Object(a.useState)(e),s=Object(i.a)(n,2),u=s[0],l=s[1],o=Object(a.useState)(!1),j=Object(i.a)(o,2),b=j[0],p=j[1],d=m([x,f],null),O=Object(i.a)(d,2),h=O[0],v=O[1],g=function(){var t=Object(S.a)(k.a.mark((function t(r){var a,n,c,s,i,u,o;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,l(e),p(!0),a=r.email,n=r.password,t.next=6,T.login({email:a,password:n});case 6:if(c=t.sent,s=c.type,i=c.message,u=c.token,o=c.data,!i){t.next=16;break}if(l({type:s,message:i}),p(!1),"error"!==s){t.next=16;break}return t.abrupt("return");case 16:h(o),v(u),p(!1),t.next=25;break;case 21:t.prev=21,t.t0=t.catch(0),l(t.t0),p(!1);case 25:case"end":return t.stop()}}),t,null,[[0,21]])})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsx)("div",{className:"flex-center",children:Object(I.jsxs)(U.a,{className:"card",title:"\u0412\u043e\u0439\u0442\u0438",children:[u.message&&Object(I.jsx)(q.a,{className:"alert",message:u.message,type:u.type}),Object(I.jsxs)(A.a,{form:r,name:"login",className:"login-form",initialValues:{remember:!0},onFinish:g,children:[Object(I.jsx)(A.a.Item,{name:"email",rules:[{required:!0,type:"email",min:4,message:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}],children:Object(I.jsx)(V.a,{prefix:Object(I.jsx)(H.a,{}),placeholder:"Email",size:"large"})}),Object(I.jsx)(A.a.Item,{name:"password",rules:[{required:!0,min:6,message:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}],children:Object(I.jsx)(V.a.Password,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",prefix:Object(I.jsx)(L.a,{}),size:"large"})}),Object(I.jsxs)(A.a.Item,{children:[Object(I.jsx)(A.a.Item,{name:"register",noStyle:!0,children:Object(I.jsx)(c.b,{to:"/auth/register",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(I.jsx)(c.b,{className:"link-recover",to:"/auth/recover",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})]}),b&&Object(I.jsx)(B.a,{className:"center",indicator:Object(I.jsx)(X.a,{style:{fontSize:40},spin:!0}),delay:500}),Object(I.jsx)(D.a,{size:"large",type:"primary",htmlType:"submit",block:!0,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},K=r(267),M=function(){var e={type:"",message:""},t=A.a.useForm(),r=Object(i.a)(t,1)[0],n=Object(a.useState)(e),c=Object(i.a)(n,2),s=c[0],u=c[1],l=Object(a.useState)(!1),o=Object(i.a)(l,2),j=o[0],b=o[1],p=function(){var t=Object(S.a)(k.a.mark((function t(a){var n,c,s,i,l,o;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u(e),b(!0),n=a.name,c=a.email,s=a.password,t.next=6,T.register({name:n,email:c,password:s});case 6:if(i=t.sent,l=i.type,!(o=i.message)){t.next=14;break}if(u({type:l,message:o}),b(!1),"error"!==l){t.next=14;break}return t.abrupt("return");case 14:r.resetFields(),b(!1),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(0),u(t.t0),b(!1);case 22:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsx)("div",{className:"flex-center",children:Object(I.jsxs)(U.a,{className:"card",title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",children:[s.message&&Object(I.jsx)(q.a,{className:"alert",message:s.message,type:s.type}),Object(I.jsxs)(A.a,{form:r,name:"register",initialValues:{remember:!0},onFinish:p,validateTrigger:"onBlur",children:[Object(I.jsx)(A.a.Item,{name:"name",rules:[{required:!0,message:"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 4 \u0441\u0438\u043c\u0432\u043e\u043b\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0433\u043e \u0438\u043b\u0438 \u0440\u0443\u0441\u0441\u043a\u043e\u0433\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0430, \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0446\u0438\u0444\u0440\u044b \u0438 \u0437\u043d\u0430\u043a\u0438 '- _'",pattern:/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0451\u04010-9-_\s]{4,}$/}],children:Object(I.jsx)(V.a,{placeholder:"\u0418\u043c\u044f",size:"large",prefix:Object(I.jsx)(K.a,{})})}),Object(I.jsx)(A.a.Item,{name:"email",rules:[{required:!0,type:"email",message:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}],children:Object(I.jsx)(V.a,{prefix:Object(I.jsx)(H.a,{}),placeholder:"Email",size:"large"})}),Object(I.jsx)(A.a.Item,{name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c! \u041c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.",min:6}],children:Object(I.jsx)(V.a.Password,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",prefix:Object(I.jsx)(L.a,{}),size:"large"})}),Object(I.jsx)(A.a.Item,{name:"confirm-password",dependencies:["password"],rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f! \u041c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.",min:6},function(e){var t=e.getFieldValue;return{validator:function(e,r){return r&&t("password")!==r?Promise.reject(new Error("\u041f\u0430\u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c!")):Promise.resolve()}}}],children:Object(I.jsx)(V.a.Password,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c \u0435\u0449\u0435 \u0440\u0430\u0437",prefix:Object(I.jsx)(L.a,{}),size:"large"})}),j&&Object(I.jsx)(B.a,{className:"center",indicator:Object(I.jsx)(X.a,{style:{fontSize:40},spin:!0}),delay:500}),Object(I.jsx)(D.a,{className:"submit-button",type:"primary",htmlType:"submit",size:"large",block:!0,disabled:j,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})})},W=function(){var e={type:"",message:""},t=A.a.useForm(),r=Object(i.a)(t,1)[0],n=Object(a.useState)(e),c=Object(i.a)(n,2),s=c[0],u=c[1],l=Object(a.useState)(!1),o=Object(i.a)(l,2),j=o[0],b=o[1],p=function(){var t=Object(S.a)(k.a.mark((function t(a){var n,c,s,i;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u(e),b(!0),n=a.email,t.next=6,T.recover({email:n});case 6:if(c=t.sent,s=c.type,!(i=c.message)){t.next=14;break}if(u({type:s,message:i}),b(!1),"error"!==s){t.next=14;break}return t.abrupt("return");case 14:r.resetFields(),b(!1),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(0),u(t.t0),b(!1);case 22:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsx)("div",{className:"flex-center",children:Object(I.jsxs)(U.a,{className:"card",title:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",children:[s.message&&Object(I.jsx)(q.a,{className:"alert",message:s.message,type:s.type}),"success"!==s.type&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("p",{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 email, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0438 \u043c\u044b \u0432\u044b\u0448\u043b\u0435\u043c \u043d\u0430 \u043d\u0435\u0433\u043e \u0441\u0441\u044b\u043b\u043a\u0443 \u0434\u043b\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u043e\u043b\u044f."}),Object(I.jsxs)(A.a,{form:r,name:"recover",className:"login-form",initialValues:{remember:!0},onFinish:p,validateTrigger:"onBlur",children:[Object(I.jsx)(A.a.Item,{name:"email",rules:[{required:!0,type:"email",message:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email!"}],children:Object(I.jsx)(V.a,{prefix:Object(I.jsx)(H.a,{}),placeholder:"Email",size:"large"})}),j&&Object(I.jsx)(B.a,{className:"center",indicator:Object(I.jsx)(X.a,{style:{fontSize:40},spin:!0}),delay:500}),Object(I.jsx)(D.a,{size:"large",type:"primary",htmlType:"submit",block:!0,disabled:j,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})]})})},$=function(){var e=Object(u.i)().code,t={type:"",message:""},r=Object(a.useState)(t),n=Object(i.a)(r,2),s=n[0],l=n[1],o=Object(a.useState)(!1),j=Object(i.a)(o,2),b=j[0],p=j[1],d=Object(a.useState)(!1),O=Object(i.a)(d,2),m=O[0],h=O[1],x=Object(a.useState)(!1),f=Object(i.a)(x,2),v=f[0],g=f[1];Object(a.useEffect)((function(){var t=function(){var t=Object(S.a)(k.a.mark((function t(){var r,a,n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.checkSecretcode({code:e,secretType:"RECOVER_PASSWORD"});case 2:r=t.sent,a=r.type,n=r.message,"error"===a&&(l({type:a,message:n}),p(!0));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.match(/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i)?t():(l({type:"error",message:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043a\u043e\u0434!"}),p(!0))}),[e]);var y=function(){var r=Object(S.a)(k.a.mark((function r(a){var n,c,s,i;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,l(t),g(!0),n=a.password,r.next=6,T.changePassword({code:e,password:n});case 6:if(c=r.sent,s=c.type,!(i=c.message)){r.next=14;break}if(l({type:s,message:i}),g(!1),"error"!==s){r.next=14;break}return r.abrupt("return");case 14:h(!0),g(!1),r.next=22;break;case 18:r.prev=18,r.t0=r.catch(0),l(r.t0),g(!1);case 22:case"end":return r.stop()}}),r,null,[[0,18]])})));return function(e){return r.apply(this,arguments)}}();return Object(I.jsx)("div",{className:"flex-center",children:Object(I.jsxs)(U.a,{className:"card",title:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",children:[s.message&&Object(I.jsx)(q.a,{className:"alert",message:s.message,type:s.type}),m&&Object(I.jsxs)("p",{children:["\u0422\u0435\u043f\u0435\u0440\u044c \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 ",Object(I.jsx)(c.b,{to:"/auth/login",children:"\u0412\u043e\u0439\u0442\u0438"})," \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"]}),!b&&!m&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("p",{children:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(I.jsxs)(A.a,{name:"change-password-request",initialValues:{remember:!0},onFinish:y,children:[Object(I.jsx)(A.a.Item,{name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],children:Object(I.jsx)(V.a.Password,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",prefix:Object(I.jsx)(L.a,{}),size:"large"})}),Object(I.jsx)(A.a.Item,{name:"confirmPassword",dependencies:["password"],rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f!"},function(e){var t=e.getFieldValue;return{validator:function(e,r){return r&&t("password")!==r?Promise.reject(new Error("\u041f\u0430\u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c!")):Promise.resolve()}}}],children:Object(I.jsx)(V.a.Password,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c \u0435\u0449\u0435 \u0440\u0430\u0437",prefix:Object(I.jsx)(L.a,{}),size:"large"})}),Object(I.jsx)(D.a,{className:"submit-button",type:"primary",htmlType:"submit",size:"large",block:!0,disabled:v,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})]})})},Q=function(){var e=Object(u.i)().code,t=Object(a.useState)({type:"",message:""}),r=Object(i.a)(t,2),n=r[0],s=r[1];return Object(a.useEffect)((function(){(function(){var t=Object(S.a)(k.a.mark((function t(){var r,a,n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.activate(e);case 2:r=t.sent,a=r.type,(n=r.message)&&s({type:a,message:n});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(I.jsx)("div",{className:"flex-center",children:Object(I.jsxs)(U.a,{className:"card",title:"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",children:[n.message&&Object(I.jsx)(q.a,{className:"alert",message:n.message,type:n.type}),Object(I.jsx)(c.b,{className:"login-link",to:"/auth/login",children:"\u0412\u0445\u043e\u0434"}),Object(I.jsx)(c.b,{className:"link-recover",to:"/auth/recover",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})})},Z=l.a.Header,G=l.a.Content,Y=l.a.Footer,ee=l.a.Sider,te=function(){var e=m([v],null),t=Object(i.a)(e,1)[0];Object(a.useEffect)((function(){var e=T.getToken();e&&t(e)}),[t]);var r=Object(a.useState)(!1),n=Object(i.a)(r,2),c=n[0],s=n[1],d=function(e){e.preventDefault(),s(!c)};return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(l.a,{style:{minHeight:"100vh"},children:[Object(I.jsx)(ee,{theme:"light",collapsible:!0,trigger:null,collapsed:c,children:Object(I.jsxs)(o.a,{mode:"inline",children:[Object(I.jsx)(o.a.Item,{icon:Object(I.jsx)(j.a,{}),children:"\u041a\u043e\u043c\u043d\u0430\u0442\u0430 1"},"1"),Object(I.jsx)(o.a.Item,{icon:Object(I.jsx)(j.a,{}),children:"\u041a\u043e\u043c\u043d\u0430\u0442\u0430 2"},"2")]})}),Object(I.jsxs)(l.a,{className:"site-layout",children:[Object(I.jsxs)(Z,{className:"header site-layout-background",children:[c?Object(I.jsx)(b.a,{className:"trigger",onClick:d}):Object(I.jsx)(p.a,{className:"trigger",onClick:d}),Object(I.jsx)(P,{})]}),Object(I.jsx)(G,{className:"content",children:Object(I.jsxs)(u.d,{children:[Object(I.jsx)(u.b,{path:"/",exact:!0,children:Object(I.jsx)(_,{})}),Object(I.jsx)(u.b,{path:"/auth/login",children:Object(I.jsx)(J,{})}),Object(I.jsx)(u.b,{path:"/auth/register",children:Object(I.jsx)(M,{})}),Object(I.jsx)(u.b,{path:"/auth/activation/:code",children:Object(I.jsx)(Q,{})}),Object(I.jsx)(u.b,{path:"/auth/recover",children:Object(I.jsx)(W,{})}),Object(I.jsx)(u.b,{path:"/auth/change-password/:code",children:Object(I.jsx)($,{})}),Object(I.jsx)(u.b,{path:"/chat",children:Object(I.jsx)(R,{})}),Object(I.jsx)(u.b,{path:"*",children:Object(I.jsx)(u.a,{to:"/auth/login"})})]})}),Object(I.jsx)(Y,{style:{textAlign:"center"},children:"\xa9 [\u041f\u0438\u0448\u0435\u043c \u0447\u0430\u0442\u0438\u043a]"})]})]})})},re=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,271)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))},ae=r(144),ne=r(44),ce=k.a.mark(oe),se=k.a.mark(je),ie=k.a.mark(be),ue=k.a.mark(pe),le=k.a.mark(de);function oe(e){var t;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(ne.a)([localStorage,localStorage.setItem],"auth",t);case 3:case"end":return r.stop()}}),ce)}function je(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.d)(f,oe);case 2:case"end":return e.stop()}}),se)}function be(e){var t,r;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(ne.a)([T,T.fetchByToken],{token:t});case 4:if(!(r=a.sent).data){a.next=8;break}return a.next=8,Object(ne.c)(g(r.data));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(1),a.next=14,Object(ne.c)(y(a.t0));case 14:case"end":return a.stop()}}),ie,null,[[1,10]])}function pe(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.d)(v,be);case 2:case"end":return e.stop()}}),ue)}function de(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.b)(je);case 2:return e.next=4,Object(ne.b)(pe);case 4:case"end":return e.stop()}}),le)}var Oe,me=r(75),he=r(259),xe=Object(he.a)((Oe={},Object(me.a)(Oe,v,(function(){return null})),Object(me.a)(Oe,g,(function(e,t){return t.payload})),Object(me.a)(Oe,y,(function(){return null})),Object(me.a)(Oe,x,(function(e,t){return t.payload})),Oe),null),fe=Object(O.c)({user:xe}),ve=k.a.mark(ye),ge=Object(O.c)({auth:fe});function ye(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.b)(de);case 2:case"end":return e.stop()}}),ve)}var we=function(){var e=Object(ae.a)(),t=Object(O.e)(ge,Object(O.d)(Object(O.a)(e),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));return e.run(ye),t}();Object(n.render)(Object(I.jsx)(a.StrictMode,{children:Object(I.jsx)(c.a,{children:Object(I.jsx)(s.a,{store:we,children:Object(I.jsx)(te,{})})})}),document.getElementById("root")),re()}},[[253,1,2]]]);
//# sourceMappingURL=main.c1fd6256.chunk.js.map